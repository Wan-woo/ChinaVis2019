<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- 引入 echarts.js -->
    <script src="./node_modules/echarts/dist/echarts.min.js"></script>
    <script src="./jquery-3.3.1/jquery-3.3.1.min.js"></script>
</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 600px;height:400px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
        var myjson = 
        {
    "type":"FeatureCollection",
    "features":[
    {
      "type": "Feature",
      "properties": {
        "name": "网格"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [[0.0, 0.0], [30, 0.0]],
          [[30.0, 0.0], [30, 16.0]],
          [[30, 16], [0.0, 16.0]],
          [[0, 16], [0, 0.0]],
          [[0, 1], [30, 1]],
          [[0, 2], [30, 2]],
          [[0, 3], [30, 3]],
          [[0, 4], [30, 4]],
          [[0, 5], [30, 5]],
          [[0, 6], [30, 6]],
          [[0, 7], [30, 7]],
          [[0, 8], [30, 8]],
          [[0, 9], [30, 9]],
          [[0, 10], [30, 10]],
          [[0, 11], [30, 11]],
          [[0, 12], [30, 12]],
          [[0, 13], [30, 13]],
          [[0, 14], [30, 14]],
          [[0, 15], [30, 15]],
          [[1, 0], [1, 16]],
          [[2, 0], [2, 16]],
          [[3, 0], [3, 16]],
          [[4, 0], [4, 16]],
          [[5, 0], [5, 16]],
          [[6, 0], [6, 16]],
          [[7, 0], [7, 16]],
          [[8, 0], [8, 16]],
          [[9, 0], [9, 16]],
          [[10, 0], [10, 16]],
          [[11, 0], [11, 16]],
          [[12, 0], [12, 16]],
          [[13, 0], [13, 16]],
          [[14, 0], [14, 16]],
          [[15, 0], [15, 16]],
          [[16, 0], [16, 16]],
          [[17, 0], [17, 16]],
          [[18, 0], [18, 16]],
          [[19, 0], [19, 16]],
          [[20, 0], [20, 16]],
          [[21, 0], [21, 16]],
          [[22, 0], [22, 16]],
          [[23, 0], [23, 16]],
          [[24, 0], [24, 16]],
          [[25, 0], [25, 16]],
          [[26, 0], [26, 16]],
          [[27, 0], [27, 16]],
          [[28, 0], [28, 16]],
          [[29, 0], [29, 16]],
          [[30, 0], [30, 16]]
        ]
      }
    },

        {
            "type":"Feature",
            "properties":{"name":"relax"},
            "geometry":{
                "type":"Polygon",
                "coordinates":[[[0,0],[6,0],[6,3],[0,3]]]
            }
        },
        {
            "type":"Feature",
            "properties":{"name":"room5"},
            "geometry":{
                "type":"Polygon",
                "coordinates":[[[1,4],[6,4],[6,6],[1,6],[1,4]]]
            }
        },
        {
            "type":"Feature",
            'properties':{'name':'canteen'},
            "geometry":{
                "type":"Polygon",
                "coordinates":[[[1,6],[6,6],[6,14],[1,14],[1,6]]]
            }
        },
        {
            "type":"Feature",
            "properties":{"name":"stair2"},
            "geometry":{
                "type":"Polygon",
                "coordinates":[[[10,14],[12,14],[12,15],[10,15],[10,14]]]
            }
        },
        {
            "type":"Feature",
            "properties":{"name":"restroom3"},
            "geometry":{
                "type":"Polygon",
                "coordinates":[[[10,10],[12,10],[12,12],[10,12],[10,10]]]
            }
        },
        {
            "type":"Feature",
            "properties":{"name":"room6"},
            "geometry":{
                "type":"Polygon",
                "coordinates":[[[10,10],[12,10],[12,8],[10,8],[10,10]]]
            }
        },
        {
            "type":"Feature",
            "properties":{"name":"stair1"},
            "geometry":{
                "type":"Polygon",
                "coordinates":[[[10,1],[12,1],[12,2],[10,2],[10,1]]]
            }
        },
        {
            "type":"Feature",
            "properties":{"name":"road"},
            "geometry":{
                "type":"Polygon",
                "coordinates":[[[6,1],[10,1],[10,2],[12,2],[12,4],[10,4],[10,12],[12,12],[12,14],[6,14],[6,1]]]
            }
        },
        {
            "type":"Feature",
            "properties":{"name":"point"},
            "geometry":{
                "type":"Point",
                "coordinates":[6,1]
            }
        }
    ]
};
        echarts.registerMap('test', myjson)
        var option = {
            visualMap: {
                min: 0,
                max: 500,
                splitNumber: 5,
                calculable : true,
                inRange: {
                    color: ['#d94e5d','#eac736','#50a3ba'].reverse()
                },
                textStyle: {
                    color: '#fff'
                }
            },
            geo:{
                map: 'test',
                roam: true,
                type: 'heatmap',
                geoIndex: name,
                itemStyle: {
                    normal: {
                        
                        borderColor: '#111'
                    },
                    emphasis: {
                        
                    }
                }
            },
            series: [
                {
                 name: 'test',
                 type: 'heatmap',
                 coordinateSystem: 'geo',
                 map: 'test',
                 data: [
                     {name:'point', value:100}
                 ]
                }    
            ]
        };

    

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option,true);
    </script>
</body>
</html>