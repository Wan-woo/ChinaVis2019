<!DOCTYPE html>
<html style="height: 100%">

<head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
</head>

<body style="height: 100%; margin: 0">
    <div id="container" style="height: 100%"></div>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-gl/echarts-gl.min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/simplex.js"></script>
    <script type="text/javascript">
        var dom = document.getElementById("container");
        var myChart = echarts.init(dom);
        var app = {};
        option = null;
        // Schema:
        // date,AQIindex,PM2.5,PM10,CO,NO2,SO2
        var dataPTR = [];
        /*[
            ['普通人', 'out', 'out', 'out', 'out', 'out', 'out', 'out', 'exhibition', 'exit1', 'out', 'out', 'out'],
            ['普通人', 'out', 'out', 'out', 'out', 'out', 'out', 'out', 'exhibition', 'road', 'exit2', 'out', 'out'],
            ['普通人', 'out', 'mainVenue', 'mainVenue', 'mainVenue', 'mainVenue', 'road', 'relax', 'venueB', 'road', 'venueB', 'exit1', 'out'],
            ['普通人', 'out', 'out', 'mainVenue', 'road', 'mainVenue', 'exit2', 'out', 'out', 'out', 'out', 'out', 'out'],
            ['普通人', 'out', 'exhibition', 'mainVenue', 'road', 'mainVenue', 'relax', 'relax', 'venueD', 'poster', 'venueD', 'exit2', 'out'],
            ['普通人', 'out', 'mainVenue', 'mainVenue', 'road', 'mainVenue', 'relax', 'road', 'venueD', 'poster', 'relax', 'exit3', 'out'],
            ['普通人', 'out', 'exhibition', 'mainVenue', 'mainVenue', 'mainVenue', 'exit1', 'out', 'out', 'out', 'out', 'out', 'out'],
            ['普通人', 'out', 'out', 'out', 'out', 'out', 'out', 'poster', 'venueC', 'restroom1', 'venueD', 'exit2', 'out'],
            ['普通人', 'out', 'mainVenue', 'mainVenue', 'road', 'mainVenue', 'exhibition', 'relax', 'venueB', 'poster', 'relax', 'exit2', 'out'],
        ]*/
        ;
        var dataWorker = [];
        /*
      [  ['工作人员', 'out', 'mainVenue', 'mainVenue', 'mainVenue', 'mainVenue', 'canteen', 'room2', 'room2', 'road', 'venueC', 'exit4', 'out'],
            ['工作人员', 'out', 'out', 'out', 'out', 'out', 'out', 'road', 'venueB', 'venueA', 'venueB', 'exit1', 'out'],
            ['工作人员', 'out', 'out', 'out', 'out', 'out', 'out', 'poster', 'venueD', 'restroom1', 'venueD', 'exit1', 'out'],
            ['工作人员', 'out', 'out', 'out', 'out', 'out', 'out', 'exhibition', 'venueC', 'venueC', 'venueD', 'exit3', 'out'],
            ['工作人员', 'out', 'mainVenue', 'mainVenue', 'road', 'mainVenue', 'relax', 'exhibition', 'venueC', 'relax', 'venueC', 'exit3', 'out'],
            ['工作人员', 'out', 'mainVenue', 'mainVenue', 'exit1', 'out', 'out', 'out', 'out', 'out', 'out', 'out', 'out'],
            ['工作人员', 'out', 'out', 'out', 'out', 'out', 'out', 'poster', 'venueC', 'restroom1', 'venueD', 'exit2', 'out'],
            ['工作人员', 'out', 'mainVenue', 'mainVenue', 'mainVenue', 'mainVenue', 'relax', 'exhibition', 'exhibition', 'relax', 'exhibition', 'exit2', 'out'],
            ['工作人员', 'out', 'mainVenue', 'mainVenue', 'mainVenue', 'mainVenue', 'exit2', 'out', 'out', 'out', 'out', 'out', 'out'],
        ];*/
        var datajournalist = [];
        /*
        [
            ['记者', 'out', 'road', 'room5', 'room5', 'room5', 'room5', 'room5', 'room5', 'room5', 'exit3', 'out', 'out'],
            ['记者', 'out', 'mainVenue', 'mainVenue', 'mainVenue', 'mainVenue', 'relax', 'poster', 'venueC', 'poster', 'venueC', 'exit2', 'out'],
            ['记者', 'road', 'road', 'mainVenue', 'exit3', 'out', 'out', 'out', 'out', 'out', 'out', 'out', 'out'],
            ['记者', 'out', 'mainVenue', 'mainVenue', 'mainVenue', 'mainVenue', 'poster', 'room2', 'venueC', 'road', 'venueB', 'exit4', 'out'],
            ['记者', 'out', 'out', 'out', 'out', 'out', 'out', 'out', 'exhibition', 'exit3', 'out', 'out', 'out'],
            ['记者', 'out', 'out', 'mainVenue', 'road', 'mainVenue', 'road', 'exhibition', 'exhibition', 'exhibition', 'venueD', 'exit2', 'out'],
            ['记者', 'sign', 'mainVenue', 'mainVenue', 'mainVenue', 'mainVenue', 'relax', 'exhibition', 'venueB', 'venueA', 'relax', 'exit3', 'out'],
            ['记者', 'out', 'mainVenue', 'mainVenue', 'mainVenue', 'mainVenue', 'room2', 'room2', 'poster', 'venueB', 'venueA', 'exit4', 'out'],
            ['记者', 'out', 'mainVenue', 'mainVenue', 'road', 'mainVenue', 'road', 'road', 'restroom1', 'venueA', 'venueC', 'exit3', 'out'],
        ];
        */
        var dataMaster = [];
        /*[
            ['大佬', 'out', 'mainVenue', 'mainVenue', 'road', 'mainVenue', 'exit4', 'out', 'out', 'out', 'out', 'out', 'out'],
            ['大佬', 'out', 'mainVenue', 'mainVenue', 'road', 'mainVenue', 'exit3', 'out', 'out', 'out', 'out', 'out', 'out'],
            ['大佬', 'out', 'out', 'mainVenue', 'road', 'mainVenue', 'exit3', 'out', 'out', 'out', 'out', 'out', 'out'],
            ['大佬', 'out', 'room4', 'mainVenue', 'exhibition', 'exit3', 'out', 'out', 'out', 'out', 'out', 'out', 'out'],
            ['大佬', 'out', 'out', 'out', 'out', 'out', 'out', 'out', 'sign', 'road', 'exit1', 'out', 'out'],
            ['大佬', 'out', 'mainVenue', 'mainVenue', 'road', 'exit1', 'out', 'out', 'out', 'out', 'out', 'out', 'out'],
            ['大佬', 'out', 'mainVenue', 'mainVenue', 'mainVenue', 'mainVenue', 'restroom2', 'relax', 'venueD', 'road', 'venueD', 'exit2', 'out'],
            ['大佬', 'out', 'out', 'mainVenue', 'mainVenue', 'mainVenue', 'exit3', 'out', 'out', 'out', 'out', 'out', 'out'],
            ['大佬', 'out', 'mainVenue', 'mainVenue', 'mainVenue', 'mainVenue', 'exhibition', 'relax', 'venueC', 'road', 'venueC', 'exit2', 'out'],
        ];*/
        $.get('http://localhost:5270/parallel', data => {

            data.data.forEach(item => {
                if (item[0] == "0") {
                    item[0] = "普通人"
                    dataPTR.push(item)
                        //console.log("普通人")
                } else if (item[0] == "1") {
                    item[0] = "工作人员"
                    dataWorker.push(item)
                        //console.log("工作人员")
                } else if (item[0] == "2") {
                    item[0] = "记者"
                    datajournalist.push(item)
                        //console.log("记者")
                } else if (item[0] == "3") {
                    item[0] = "大佬"
                    dataMaster.push(item)
                        //console.log("大佬")
                }
            });


            console.log(dataPTR)
            console.log(dataWorker)
            console.log(datajournalist)
            console.log(dataMaster)
            var schema = [{
                name: 'class',
                index: 0,
                text: 'class'
            }, {
                name: '7am',
                index: 1,
                text: '7am'
            }, {
                name: '8am',
                index: 2,
                text: '8am'
            }, {
                name: '9am',
                index: 3,
                text: '9am'
            }, {
                name: '10am',
                index: 4,
                text: '10am'
            }, {
                name: '11am',
                index: 5,
                text: ' 11am'
            }, {
                name: '12am',
                index: 6,
                text: '12am'
            }, {
                name: '1pm',
                index: 7,
                text: '1pm'
            }, {
                name: '2pm',
                index: 8,
                text: '2pm'
            }, {
                name: '3pm',
                index: 9,
                text: '3pm'
            }, {
                name: '4pm',
                index: 10,
                text: '4pm'
            }, {
                name: '5pm',
                index: 11,
                text: '5pm'
            }, {
                name: '6pm',
                index: 12,
                text: '6pm'
            }, ];

            var lineStyle = {
                normal: {
                    width: 1,
                    opacity: 0.5
                }
            };

            option = {
                backgroundColor: '#333',
                legend: {
                    bottom: 30,
                    data: ['普通人', '工作人员', '记者', '大佬'],
                    itemGap: 20,
                    textStyle: {
                        color: '#fff',
                        fontSize: 14
                    }
                },
                tooltip: {
                    padding: 10,
                    backgroundColor: '#222',
                    borderColor: '#777',
                    borderWidth: 1,
                    formatter: function(obj) {
                        var value = obj[0].value;
                        return '<div style="border-bottom: 1px solid rgba(255,255,255,.3); font-size: 18px;padding-bottom: 7px;margin-bottom: 7px">' +
                            obj[0].seriesName + ' ' + value[0] + '日期：' +
                            value[7] +
                            '</div>' +
                            schema[1].text + '：' + value[1] + '<br>' +
                            schema[2].text + '：' + value[2] + '<br>' +
                            schema[3].text + '：' + value[3] + '<br>' +
                            schema[4].text + '：' + value[4] + '<br>' +
                            schema[5].text + '：' + value[5] + '<br>' +
                            schema[6].text + '：' + value[6] + '<br>';
                    }
                },
                // dataZoom: {
                //     show: true,
                //     orient: 'vertical',
                //     parallelAxisIndex: [0]
                // },
                parallelAxis: [{
                        dim: 0,
                        name: schema[0].text,
                        type: 'category',
                        data: ['普通人', '工作人员', '记者', '大佬']
                    }, {
                        dim: 1,
                        name: schema[1].text,
                        type: 'category',
                        data: ['out', 'sign', 'road', 'exhibition', 'mainVenue', 'restroom', 'canteen', 'restroom', 'venueA', 'venueB', 'venueC', 'venueD']
                    }, {
                        dim: 2,
                        name: schema[2].text,
                        type: 'category',
                        data: ['out', 'sign', 'road', 'exhibition', 'mainVenue', 'restroom', 'canteen', 'restroom', 'venueA', 'venueB', 'venueC', 'venueD']
                    }, {
                        dim: 3,
                        name: schema[3].text,
                        type: 'category',
                        data: ['out', 'sign', 'road', 'exhibition', 'mainVenue', 'restroom', 'canteen', 'restroom', 'venueA', 'venueB', 'venueC', 'venueD']
                    }, {
                        dim: 4,
                        name: schema[4].text,
                        type: 'category',
                        data: ['out', 'sign', 'road', 'exhibition', 'mainVenue', 'restroom', 'canteen', 'restroom', 'venueA', 'venueB', 'venueC', 'venueD']
                    }, {
                        dim: 5,
                        name: schema[5].text,
                        type: 'category',
                        data: ['out', 'sign', 'road', 'exhibition', 'mainVenue', 'restroom', 'canteen', 'restroom', 'venueA', 'venueB', 'venueC', 'venueD']
                    }, {
                        dim: 6,
                        name: schema[6].text,
                        type: 'category',
                        data: ['out', 'sign', 'road', 'exhibition', 'mainVenue', 'restroom', 'canteen', 'restroom', 'venueA', 'venueB', 'venueC', 'venueD']
                    }, {
                        dim: 7,
                        name: schema[7].text,
                        type: 'category',
                        data: ['out', 'sign', 'road', 'exhibition', 'mainVenue', 'restroom', 'canteen', 'restroom', 'venueA', 'venueB', 'venueC', 'venueD']
                    }, {
                        dim: 8,
                        name: schema[8].text,
                        type: 'category',
                        data: ['out', 'sign', 'road', 'exhibition', 'mainVenue', 'restroom', 'canteen', 'restroom', 'venueA', 'venueB', 'venueC', 'venueD']
                    }, {
                        dim: 9,
                        name: schema[9].text,
                        type: 'category',
                        data: ['out', 'sign', 'road', 'exhibition', 'mainVenue', 'restroom', 'canteen', 'restroom', 'venueA', 'venueB', 'venueC', 'venueD']
                    }, {
                        dim: 10,
                        name: schema[10].text,
                        type: 'category',
                        data: ['out', 'sign', 'road', 'exhibition', 'mainVenue', 'restroom', 'canteen', 'restroom', 'venueA', 'venueB', 'venueC', 'venueD']
                    }, {
                        dim: 11,
                        name: schema[11].text,
                        type: 'category',
                        data: ['out', 'sign', 'road', 'exhibition', 'mainVenue', 'restroom', 'canteen', 'restroom', 'venueA', 'venueB', 'venueC', 'venueD']
                    }, {
                        dim: 12,
                        name: schema[12].text,
                        type: 'category',
                        data: ['out', 'sign', 'road', 'exhibition', 'mainVenue', 'restroom', 'canteen', 'restroom', 'venueA', 'venueB', 'venueC', 'venueD']
                    }

                ],
                visualMap: {
                    show: true,
                    min: 0,
                    max: 150,
                    dimension: 2,
                    inRange: {
                        color: ['#d94e5d', '#eac736', '#50a3ba'].reverse(),
                        // colorAlpha: [0, 1]
                    }
                },
                parallel: {
                    left: '5%',
                    right: '18%',
                    bottom: 100,
                    parallelAxisDefault: {
                        type: 'value',
                        name: 'AQI指数',
                        nameLocation: 'end',
                        nameGap: 20,
                        nameTextStyle: {
                            color: '#fff',
                            fontSize: 12
                        },
                        axisLine: {
                            lineStyle: {
                                color: '#aaa'
                            }
                        },
                        axisTick: {
                            lineStyle: {
                                color: '#777'
                            }
                        },
                        splitLine: {
                            show: false
                        },
                        axisLabel: {
                            textStyle: {
                                color: '#fff'
                            }
                        }
                    }
                },
                series: [{
                    name: '普通人',
                    type: 'parallel',
                    lineStyle: lineStyle,
                    smooth: true,
                    data: dataPTR
                }, {
                    name: '工作人员',
                    type: 'parallel',
                    lineStyle: lineStyle,
                    smooth: true,
                    data: dataWorker
                }, {
                    name: '记者',
                    type: 'parallel',
                    lineStyle: lineStyle,
                    smooth: true,
                    data: datajournalist
                }, {
                    name: '大佬',
                    type: 'parallel',
                    lineStyle: lineStyle,
                    smooth: true,
                    data: dataMaster
                }]
            };;





            if (option && typeof option === "object") {
                myChart.setOption(option, true);
            }
        })
    </script>
</body>

</html>